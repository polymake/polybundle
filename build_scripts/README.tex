\documentclass[a4paper]{amsart}
\usepackage{color}

\definecolor{urlcol}{cmyk}{.1,.7,1,0}
\usepackage[colorlinks,urlcolor=urlcol]{hyperref}
\usepackage{xspace}

\newcommand{\macversion}{10.10}
\newcommand{\polymakeversion}{ Release 2.14 of March 6, 2015\xspace}
\newcommand{\macsix}{10.6}
\newcommand{\macseven}{10.7}

\title{\texttt{polymake} on the Mac\\\polymakeversion}

\newcommand{\polymake}{\texttt{polymake}\xspace}


\begin{document}

\maketitle
\parindent0pt

\section*{Introduction}

\polymake is a tool to study the combinatorics and the geometry of
convex polytopes and polyhedra. It is also capable of dealing with
simplicial complexes, matroids, polyhedral fans, graphs, tropical polytopes, and various other mathematical object.

\textbf{Note that this Mac application of \polymake is still
  experimental.} If you have problems, or suggestions for improvements
please contact us.

\section*{System Requirements}

The \polymake package was built and tested on Intel-based Macs
running Mac OS \macversion\ with Apple's command line tools using the \polymakeversion of
\polymake. Due to system package dependencies it won't work on Macs
with \textbf{any} other Mac OS X version or architecture.

Note that there are different packages for different perl versions. Make sure you download the version of the \polymake app that was built for the perl version that corresponds to your system perl. You can find the version number by executing
\[\texttt{/usr/bin/perl --version}\] in a terminal.

If there is no version of the \polymake app matching your perl version please contact us at \href{http://forum.polymake.org}{\tt forum.polymake.org}.

\bigskip
The package requires that Apple's command line tools and java are installed on your Mac. If you don't have them a popup window will appear the first time polymake wants to use them. Please click install (you may need an administrator password to install them). The popoup for the ocmmand line tools is slightly confusing. It also offers to install XCode. This is not necessary. Just click \emph{Install}.


\section*{Installation}

Double clicking the \texttt{dmg} file mounts the disk image and opens
it in the Finder. Drag \polymake to a suitable location on your
system. Preferably this should be the standard \texttt{Applications}
folder. You might want to save this README file somewhere. Afterwards
you can eject the image and delete the  \texttt{dmg} file unless you
want to rebuild the app.

To run \polymake double click the \polymake program icon. You can
also drag the icon onto your dock for faster access. Note however that
the \polymake bundle is not a true Mac application: it basically
opens a \texttt{Terminal} and starts \polymake inside this. So it does not
behave as most other apps, e.g. Mail: if you have a running \polymake
session then clicking again on the Dock icon just opens another
instance of \polymake instead of bringing the existing window to the
front. Instead, you should navigate to the \texttt{Terminal} app (and then
possibly cycle between different \texttt{Terminal} windows with \texttt{Cmd-<})
to reach \polymake).

\section*{Usage}

Double click the \polymake program icon to start \polymake. This will
open a terminal and launch the interactive shell of \polymake inside
the terminal. For an introduction to \polymake and the interactive
shell see \href{http://polymake.org}{\tt polymake.org}\;.

To exit \polymake type \texttt{exit;} at the \polymake prompt
(observe the ``;'' that is necessary for each \polymake
command). Depending on your \texttt{Terminal} settings the
\texttt{Terminal} window might not close but just tell you that the
process is completed. In that case close the window manually (but wait
until \polymake has finished, which might take a moment). You can
change the behavior of \texttt{Terminal} in the \textit{Preferences}
menu.  You cannot close \polymake by right clicking the Dock icon or
via Expos\`e. \polymake saves open files and customization settings
when you exit, so you \textbf{should not} terminate \polymake by
closing the terminal.

\section*{Customization Files}

\polymake puts its customization files into the directory 

\[\texttt{.polymake-macbundle/} \]

in your home directory. The directory is created at the first start of
\polymake. If you want to reset \polymake to default values then you
can just delete this directory (You cannot do this in the Finder as it
is a hidden folder (observe the ``.'' in front). Open a \texttt{Terminal},
\texttt{cd} into your home directory and type \texttt{rm -rf
  .polymake-macbundle}.).

These files, as well as the customization files written to your
extension directory when you import an extension into polymake contain
the absolute path to the directory containing the polymake
files. Thus, after you have started \polymake once you cannot move
the bundle to a different location on you Mac (e.g.\ from the disk
image into your Application folder). You can, however, create links.

If you have to move the \polymake app bundle, then you have to delete
the folder \texttt{.polymake-macbundle} in your home directory (see
above for instructions), and do a \texttt{make distclean} in each
extension base directory prior to calling \polymake from its new
location. If you want to save some values (e.g.\ color settings) in
\texttt{customize.pl} or \texttt{prefer.pl} then make a copy of the
files and add the values back to the corresponding files in
\texttt{.polymake-macbundle} after you have started \polymake from
the new location.

\polymake has a basic check to detect whether you have moved the
\polymake app and offers to delete \texttt{.polymake-macbundle}. You
can accept this as long as you don't have imported any extensions. If
you have, then please choose ``cancel'' here and do \texttt{make
  clean} in the extension base directories before you start \polymake\
from its new location.

\section*{Uninstalling polymake}

To uninstall \polymake just drag the \polymake icon to the trash and
remove the directory \texttt{\${HOME}/.polymake-macbundle} (This is
only created after you have started \polymake at least once). Note
that this directory is a hidden directory, so you cannot delete it
in the Finder. Instead, open a \texttt{Terminal}, \texttt{cd} into
your home directory, and type \texttt{rm -rf .polymake-macbundle}
(observe the ``.'').

\section*{Trouble-shooting}

\textbf{Please note that the \polymake app is not relocatable after
  the first start}, so please move it to a location on your hard disk
(e.g.\ the Application folder) before starting it. If you need to move
the app then please follow the instructions given in the section about
customization files. You can use the \polymake app along with a
standard installation, but you cannot import extensions from the same
directory (but you can install extensions again to a different
directory).

Support queries concerning installation and usage are welcome (please
use our forum at \href{http://forum.polymake.org}{\tt
  forum.polymake.org}), as well as any other feedback, but are served
on voluntary base, depending, first of all, on the authors' free time
resources.  The \polymake package for Mac is still experimental, so
it might not work on your computer. Also, we don't have many different
Mac OS X installations at hand to test. If it doesn't work we'd value
feedback about what went wrong. To obtain relevant information you
could try to start the script from a terminal instead of the
Applications folder and send us the output. If you have installed
\polymake into the standard \texttt{Applications} folder, then the
steps are as follows.
\begin{enumerate}
\item open the \texttt{Terminal} application (inside \texttt{Utilities} in your
  \texttt{Applications} folder).
\item at the prompt type\\
 \texttt{. /Application/polymake.app/Contents/MacOS/polymake.start}
\end{enumerate}


\section*{License}

\polymake is released under the the GPL license. By downloading
\polymake in any form (whether source code or compiled) you agree to
be bound by this license; further you renounce to claim
any kind of warranty or damages related to the use of this software.

Software libraries bundled directly with \polymake are protected by
open source licenses adequate to the GPL or broader. However, the
exact wording and restrictions to use may vary. 

Additionally, the \polymake application package comes with compiled
versions of several packages necessary for polymake: 
\begin{enumerate}
\item \href{http://gmplib.org/}{\texttt{GMP 5.1.3}}.
\item \href{http://mpfr.org/}{\texttt{MPFR 3.1.2}}.
\item \href{http://tiswww.case.edu/php/chet/readline/rltop.html}{\texttt{readline 6.2}}
\item \href{http://search.cpan.org/dist/Term-ReadLine-Gnu/}{\texttt{perl::Term-Readline-Gnu}}
\item \href{http://www.boost.org/}{\texttt{boost 1.47.0}}
\item \href{http://ant.apache.org/}{\texttt{ant 1.93}}
\item \href{http://bugseng.com/products/ppl/}{\texttt{ppl 1.1}}
\item \href{http://www.home.uni-osnabrueck.de/wbruns/normaliz/}{\texttt{libnormaliz 2.12}}
\item \href{http://www.inf.ethz.ch/personal/fukudak/cdd_home/}{\texttt{cdd 0.94g}}
\item \href{http://cgm.cs.mcgill.ca/~avis/C/lrs.html}{\texttt{lrs 4.2}}
\item \href{http://cs.anu.edu.au/~bdm/nauty/}{\texttt{nauty}}
\item \href{http://www3.math.tu-berlin.de/jreality/}{\texttt{jReality}}
\item \href{http://cnswww.cns.cwru.edu/php/chet/readline/rltop.html}{\texttt{readline 6.2}}
\item \href{http://search.cpan.org/~hayashi/Term-ReadLine-Gnu-1.20/Gnu.pm}{\texttt{Term-Readline-Gnu 1.20}}
\item \href{http://search.cpan.org/~shlomif/XML-LibXSLT-1.87/LibXSLT.pm}{\texttt{XML-LibXSLT 1.71}}
\item \href{http://www.math.uni-rostock.de/~rehn/software/permlib.html}{\texttt{permlib}}
\item \href{http://www.shoup.net/ntl/}{\texttt{ntl}}
\item \href{https://github.com/Singular/Sources}{\texttt{Singular}}
\item \href{https://github.com/polymake/polymake}{\texttt{polymake}}
\end{enumerate}
Also these packages are protected by open source licences compliant to
the GPL. The sources for \polymake are also available on \href{http://polymake.org/doku.php/download/start}{polymake.org/doku.php/download/start}. 
All sources are either directly contained in the 
polymake distribution or included as compressed tar archives in the
\texttt{tarballs/} directory of the disk image, where you also find the polymake sources. Check the
corresponding COPYING or README files included in the packages for the
exact license.  For the packages bundled directly with \polymake you
can find the license statements in the \texttt{bundled} sub-directory
of the \polymake archive (currently \texttt{cdd, lrs, nauty, permlib, ppl, libnormaliz, jreality}).

\section*{Rebuilding the disk-image}

If you need to rebuild the disk-image just copy the \texttt{src}
directory to some location on your Mac. Change to the \texttt{src}
directory and type \texttt{make fetch\_sources \&\& make complile \&\& make dmg}.

\end{document}
